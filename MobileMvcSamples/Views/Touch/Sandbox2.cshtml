<!DOCTYPE html>

<html>
  <head>
    <title>A Simple Touch Sample</title>
  </head>
  <body>
    <p>Touch it!</p>

    <canvas id="theCanvas" style="border: solid 1px #111;" height="250" width="250">

    </canvas>

<script>
  
var canvas, context;

function load() {
  canvas = document.getElementById('theCanvas');
  context = canvas.getContext('2d');

  canvas.addEventListener('click', function (evt) {
    var position = getPositionFromTarget(evt, evt.target);
    draw(position.x, position.y);
  });

  canvas.addEventListener('touchend', function (evt) {
    var position = getPositionFromTarget(evt.touches[0], evt.touches[0].target);
    draw(position.x, position.y);
  });
}

window.addEventListener('load', load);

function draw(x, y) {
  context.fillStyle = '#F00';

  var radius = 6;
  var startRadian = 0;
  var endRadian = Math.PI * 2;

  context.beginPath();
  context.arc(x, y, radius, startRadian, endRadian);
  context.fill();
}

function getPositionFromTarget(evt, target) {

  return {
    y: evt.pageY - target.offsetTop,
    x: evt.pageX - target.offsetLeft
  };
}

</script>

  </body>
</html>

